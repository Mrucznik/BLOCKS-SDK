<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The BLOCKS SDK: The LittleFoot Language</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The BLOCKS SDK
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('the_littlefoot_language.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The LittleFoot Language </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="littlefoot_description"></a>
A description of the LittleFoot language</h1>
<p>A description of the LittleFoot language is contained in the SDK source code at <code class="filename">roli_blocks_basics/littlefoot/LittleFoot Language README.txt</code>: <pre class="fragment">This is a brief description of the LittleFoot language syntax

Littlefoot basically looks like C, but has no pointers, and the only types are:

- int   (32-bit signed integer)
- float (32-bit float)
- bool

The top-level syntax of a program is a list of global variables and global functions. Order
of declaration isn't important, you can use functions and variables that are declared later
in the file without needing to pre-declare anything.

Comments are the same format as C/C++/java/etc

So for example:


    // global variables. These are initialised to 0 or false when the program is loaded, and
    // you can't currently provide any other initial values
    int foo, bar;

    int getTheNextNumber()
    {
        return addTwoNumbers (++foo, 2.0) * 3;
    }

    float addTwoNumbers (int x, float y)
    {
        return float (x) + y;
    }

The usual control-flow operators are provided, all with C++ style syntax:

    if/else
    for
    while
    do...while
    continue
    break
    return

(There isn't currently a switch statement though)

Arithmetic ops are the usual suspects, (with the standard operator precedence):

    +, -, *, /, %
    ||, &amp;&amp;, |, &amp;, ~, ^
    ++, --, +=, -=, *=, /=, %=, |=, &amp;=, ^=
    ==, !=, &lt;, &gt;, &lt;=, &gt;=, !
    &lt;&lt;, &gt;&gt;, &lt;&lt;=, &gt;&gt;=, &gt;&gt;&gt;
    Ternary operator (x ? y : z)

Local variables are declared in C++-style syntax:

    void foo()
    {
        int x = 123;
        float y = 12.0, z = 1.0e5;
        bool b = y &gt; 20.0;
    }

Casts of primitive types are done with function-style syntax, e.g.

    int x = int (123.0);
    float f = float (getIntegerValue());

Arrays of any type can be created in the global scope using C-style syntax.
Elements of arrays can be set and read from functions.
Arrays cannot be created within functions or returned from functions.

For example:

    int foo[12];

    void initialise()
    {
        for (int i = 0; i &lt; 12; ++i)
            foo[i] = i;
    }

The program communicates with the host computer by using a shared area of memory
called the heap which the host can change. There are some built-in functions
available for the program to use to read from the heap:

    int getHeapByte (int byteIndex);                    // reads a single byte from the heap
    int getHeapInt (int byteIndex);                     // reads 4 bytes from the heap as an integer
    int getHeapBits (int startBitIndex, int numBits);   // reads a sequence of bits from the heap and returns it as an integer
    void setHeapByte (int byteIndex, int newValue);     // writes a single byte to the heap
    void setHeapInt (int byteIndex, int newValue);      // writes 4 bytes to the heap

Depending on the context, there will also be some built-in functions that the
program can use to do what it needs to do. Currently in the standard Pad BLOCK program,
you have the following functions available:

    int makeARGB (int alpha, int red, int green, int blue);         // combines a set of 8-bit ARGB values into a 32-bit colour
    int blendARGB (int baseColour, int overlaidColour);             // blends the overlaid ARGB colour onto the base one and returns the new colour
    void fillPixel (int rgb, int x, int y);                         // sets a LED colour on the display
    void fillRect (int rgb, int x, int y, int width, int height);   // fills a rectangle on the display

A BLOCKs program needs to provide a repaint() function which the block will call
at approximately 25Hz to draw the display. For example, here's a simple program that
draws a moving rectangle:

    int rectangleX;

    void repaint()
    {
        fillRect (0xff000044, 0, 0, 15, 15); // fill the display with dark blue
        fillRect (0xffffffff, rectangleX, 5, 4, 4); // draw a white rectangle

        rectangleX = (rectangleX + 1) % 15; // animate our position and make it wrap
    }

The host can also send simple event messages to the program, and to receive these you must
provide a function called "handleMessage", e.g.

    void handleMessage (int param1, int param2)
    {
        // do something with the two integer parameters that the app has sent...
    }</pre></p>
<p>You can find example scripts written using the LittleFoot language in the <a class="el" href="example_scripts.html">Example LittleFoot Scripts</a> section and a more comprehensive list of <a class="el" href="group__LittleFootFunctions.html">LittleFoot Functions</a> in the JUCE library documentation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<hr class="footer"/>
<address class="footer"><small>All content &copy ROLI Ltd.</small></address><br/>
</body>
</html>
